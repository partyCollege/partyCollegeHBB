<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="css/style_box_demo.css">
        <script type="text/javascript" charset="utf-8" src="native.js"></script>
    
    <script type="text/javascript" charset="utf-8">
        document.addEventListener("deviceready", onDeviceReady, false);
        function onDeviceReady() {
            //alert('onDeviceReady');
            
        }
    function scanBarcode()
    {
        xsfBarcode.scan(
                        function (result) {
                        alert("We got a barcode\n" +
                              "Result: " + result.text + "\n" +
                              "Format: " + result.format + "\n" +
                              "Cancelled: " + result.cancelled);
                        },
                        function (error) {
                        alert("Scanning failed: " + error);
                        }
                        );
    }
    function goHome()
    {
        window.location.href = "index.html";
    }
    //wpk--新增根据内容生成对应的二维码。
    function encodeBarcode()
    {
        xsfBarcode.encode(xsfBarcode.Encode.TEXT_TYPE, "http://www.sina.com", function(success) {
                          var smallImage = document.getElementById('smallImage');
                          smallImage.style.display = 'block';
                          smallImage.src = success.file;
                          
                          }, function(fail) {
                          alert("encoding failed: " + fail);
                          }
                          );
    }
    </script>
  </head>
  <body>
      <br/>
      <br/>
    <p>...</p>
    <div class = "btn bg_1" onclick = "scanBarcode();">scanBarcode扫描二维码</div><br/>
    
    <div class = "btn bg_2" onclick = "encodeBarcode();">encodeBarcode生成二维码</div><br/>
    <img style="display:none;width:160px;height:160px;" id="smallImage" src="" />
    <div class = "btn bg_1" onclick = "goHome();">返回</div><br/>
  </body>
</html>
